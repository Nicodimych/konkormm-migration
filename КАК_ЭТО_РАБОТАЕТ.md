# 🤖 Как работает автоматическая синхронизация вопросов

## ✨ Магия автоматизации

Настроена **автоматическая синхронизация** между GitHub Issues и локальным файлом `QUESTIONS.md`!

---

## 📥 Workflow: От вопроса до ответа

### Шаг 1: Максим создает вопрос на GitHub

**Действие Максима:**
1. Открывает https://github.com/Nicodimych/konkormm-migration/issues
2. Нажимает **"New Issue"**
3. Пишет вопрос:
   ```
   Title: Уточнение по бюджету лицензий
   
   Body: В плане указано ~1.4 млн. Это точная цифра?
   ```
4. **"Submit new issue"**

---

### Шаг 2: GitHub Action срабатывает автоматически ⚡

**Что происходит (автоматически, без вашего участия):**

1. ✅ GitHub Action видит новый Issue
2. ✅ Читает содержимое (заголовок, текст, автора)
3. ✅ Форматирует в нужный вид
4. ✅ Добавляет в конец файла `QUESTIONS.md`
5. ✅ **Коммитит напрямую в master** (автоматически!)
6. ✅ Добавляет комментарий в оригинальный Issue: "✅ Вопрос синхронизирован"

**Время:** ~30 секунд после создания Issue

---

### Шаг 3: Вы получаете уведомления

**У вас приходит (если настроены уведомления):**
- 📧 Email: "New Pull Request: Вопрос #N"
- 📧 Email: "New Issue: [название]"
- 🔔 Уведомление в GitHub

**Но даже если пропустили уведомления:**
- Просто делаете `git pull` → файл обновится!

---

### Шаг 4: Вы работаете локально в Cursor

**Ваши действия:**

1. **Подтянуть изменения:**
   ```bash
   git pull
   ```

2. **Открыть `QUESTIONS.md` в Cursor**
   - Видите новый вопрос в конце файла

3. **Попросить AI помочь:**
   ```
   Вы: "Проанализируй новый вопрос #N в QUESTIONS.md и дай рекомендации"
   AI: [Детальный анализ и рекомендации]
   ```

4. **Добавить ответ** в раздел "Ответ:" под вопросом

5. **Закоммитить:**
   ```bash
   git add QUESTIONS.md
   git commit -m "Ответ на вопрос #N от Максима"
   git push
   ```

---

### Шаг 5: Максим видит ответ

**Автоматически:**
- 📧 Максиму приходит email об обновлении в Issue
- Открывает Issue → видит, что есть обновления в связанном PR
- Переходит в PR → видит ваш ответ в `QUESTIONS.md`

**Или через файл:**
- Открывает https://github.com/Nicodimych/konkormm-migration/blob/master/QUESTIONS.md
- Видит обновленный файл с вашим ответом

---

## 🔄 Полный цикл (визуально)

```
┌─────────────────────────────────────────────────────────────┐
│ 1. Максим создает Issue на GitHub                          │
│    "Вопрос по бюджету"                                      │
└────────────────┬────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────┐
│ 2. GitHub Action (автоматически, ~30 сек)                  │
│    ✓ Читает Issue                                           │
│    ✓ Добавляет в QUESTIONS.md                               │
│    ✓ Коммитит в master                                      │
│    ✓ Комментирует в Issue: "✅ Синхронизировано"            │
└────────────────┬────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────┐
│ 3. Вы (в Cursor)                                            │
│    $ git pull                                                │
│    ✓ Видите новый вопрос в QUESTIONS.md                     │
└────────────────┬────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────┐
│ 4. AI-консультант (в Cursor)                               │
│    ✓ Анализирует вопрос                                     │
│    ✓ Изучает план, конфигурацию, документацию               │
│    ✓ Дает рекомендации и варианты решения                   │
└────────────────┬────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────┐
│ 5. Вы добавляете ответ                                      │
│    ✓ Редактируете QUESTIONS.md (раздел "Ответ:")           │
│    ✓ git commit && git push                                 │
└────────────────┬────────────────────────────────────────────┘
                 │
                 ▼
┌─────────────────────────────────────────────────────────────┐
│ 6. Максим видит ответ                                       │
│    📧 Email уведомление                                      │
│    ✓ Открывает Issue → видит обновления                     │
│    ✓ Или смотрит QUESTIONS.md на GitHub                     │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎯 Главное преимущество

### Вы НИКОГДА не пропустите вопрос!

**Три уровня защиты:**
1. 📧 Email уведомление о новом Issue
2. 🔔 Уведомление о новом Pull Request
3. 📝 При `git pull` файл `QUESTIONS.md` обновится → вопрос виден локально

---

## 📋 Примеры форматирования

### Вопрос в Issue будет выглядеть так в QUESTIONS.md:

```markdown
---

### ❓ 42. Уточнение по бюджету лицензий

**Автор:** @Максим  
**Вопрос:** 

В плане указано ~1.4 млн на лицензии. 
Это точная цифра или примерная? 
Когда будет точное КП?

**Статус:** ⏳ Ожидание ответа  
**Дедлайн:** TBD  
**GitHub Issue:** #42

**Ответ:**
_Здесь появится ответ от AI-консультанта и команды_
```

### После вашего ответа:

```markdown
**Ответ:**

Проанализировал прайс-листы 1С. Цифра ~1.4 млн примерная:

1. **1С:Салон оптики** (комплект 20 магазинов): 548 900 руб. - ТОЧНО
2. **Клиентские лицензии 20 РМ**: ~249 400 руб. - ПРИМЕРНО
3. **1С:Поликлиника**: ТРЕБУЕТСЯ КП от партнера
4. **Клиентские лицензии 10 РМ**: ~132 500 руб. - ПРИМЕРНО

**Точное КП ожидается:** 15-17 ноября (после запроса партнеру)

**Рекомендация:** Запросить КП СРОЧНО (дедлайн 10 ноября)

---
**Ответил:** AI-консультант + [Ваше имя]  
**Дата:** 7 ноября 2025
```

---

## ⚙️ Что делать если Action не сработал?

### Проверка:
1. Откройте https://github.com/Nicodimych/konkormm-migration/actions
2. Посмотрите последний запуск
3. Если ошибка - посмотрите логи

### Ручная синхронизация (если нужно):
```bash
# Скопируйте текст из Issue
# Добавьте вручную в QUESTIONS.md
git add QUESTIONS.md
git commit -m "Добавлен вопрос #N вручную"
git push
```

---

## 🎓 Обучение Максима (5 минут)

Покажите ему:
1. Как открыть страницу Issues
2. Как нажать "New Issue"
3. Как написать вопрос
4. Объясните что ответ придет автоматически

**Готово!** Максим может задавать вопросы когда угодно, вы их точно не пропустите!

---

**Статус автоматизации:** ✅ Настроено и работает  
**Проверено:** Push выполнен успешно

